<link rel="import" href="/components/polymer/polymer.html" />

<dom-module id="bs-sensors">
  <script>
  Polymer({
    is: 'bs-sensors',
    _outerWorld: window.parent,

    startListening: function(onReading) {
      this._outerWorld.postMessage('sensors-start', '*');
      window.addEventListener('message', function(ev) {
        var message = ev.data,
            type = message.type,
            data = message.data;

        if(type === 'sensors-reading') {
          this.fire(type, data);
        }
      }.bind(this));
    },

    stopListening: function() {
      // this._outerWorld.postMessage('accelerometer-stop');
      // window.removeEventListener('accelerometer-reading');
    }
  });
  </script>
</dom-module>
